name: xlingpaper
base: core18
version: '0.1' # '0.1+git'
summary: Produce linguistic documents with multiple outputs from one source document.
description: |
  This is an unofficial package.

  XLingPaper is an add-on to XMLmind XML Editor.

  XMLmind XML Editor is a strictly validating, near WYSIWYG, XML editor, having:
  * Extensive DITA 1.3 support, including Lightweight DITA, XDITA, HDITA, MDITA.
  * Extensive DocBook support, including DocBook 5.1 assemblies.
  * Extensive XHTML5 support, including the ability to convert a set of HTML pages (an “ebook”) to EPUB, PDF, Web Help, DOCX, etc.

grade: devel # must be 'stable' to release into candidate/stable channels
confinement: devmode # use 'strict' once you have the right plugs and slots
apps:
  xlingpaper:
    command: bin/runxxe8
parts:
  xlingpaper:
    plugin: dump
    source: https://software.sil.org/downloads/r/xlingpaper/XLingPaper-3-9-0XXEPersonalEditionFullSetup.tar.gz
    organize:
      install4xxe8Perso: bin/
      runxxe8: bin/
    build-packages:
      - unzip
    override-prime: |
      snapcraftctl prime
      sed -r -i 's/NAMEO=\$\{HOME:6\}/NAMEO=root/g' /root/stage/bin/install4xxe8Perso
      sed -r -i 's/chown $NAMEO -R/chown -R $NAMEO/g' /root/stage/bin/install4xxe8Perso
      sed -r -i 's/^(less.*)$/# \1/g' /root/stage/bin/install4xxe8Perso
      echo -e '\ny\n' | install4xxe8Perso
